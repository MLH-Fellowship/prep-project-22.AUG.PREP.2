(this["webpackJsonpprep-template"]=this["webpackJsonpprep-template"]||[]).push([[0],{10:function(e,t,c){},12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(5),s=c.n(r),i=c(2),o=(c(10),c.p+"static/media/mlh-prep.270f6887.png"),u=c(0);function j(e){var t=e.error;return Object(u.jsxs)("div",{children:["Error: ",t.message]})}function d(e){var t=e.isLoaded,c=e.results;return Object(u.jsxs)("div",{className:"Results",children:[!t&&Object(u.jsx)("h2",{children:"Loading..."}),console.log(c),t&&c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:c.weather[0].main}),Object(u.jsxs)("p",{children:["Feels like ",c.main.feels_like,"\xb0C"]}),Object(u.jsx)("i",{children:Object(u.jsxs)("p",{children:[c.name,", ",c.sys.country]})})]})]})}function l(e){var t=e.city,c=e.changeCity;return Object(u.jsx)("input",{type:"text",value:t,onChange:function(e){return c(e.target.value)}})}var p=function(e){var t=e.img_src;return Object(u.jsx)("div",{className:"card",children:Object(u.jsx)("img",{src:t,alt:"required item"})})},O=c.p+"static/media/cap.474e6898.png",b=c.p+"static/media/gloves.45497ed2.png",f=c.p+"static/media/jacket.58fadea5.png",m=c.p+"static/media/raincoat.376a8ef2.png",h=c.p+"static/media/scarf.fbb31feb.png",g=c.p+"static/media/sunglasses.6c5f1538.png",S=c.p+"static/media/suncream.d8793979.png",_=c.p+"static/media/umbrella.df170598.png",E=c.p+"static/media/water_proof_boots.a48e94f8.png",v=c.p+"static/media/watch.f0a65ecb.png",x=c.p+"static/media/goggles.faf692a2.png",T=c.p+"static/media/flashlight.6563cb05.png",w=c.p+"static/media/mask.e0e07086.png",C=function(e){var t=e.weatherKind,c=function(e){switch(e){case"Rain":return[m,E,_];case"Snow":return[g,b,f,h];case"Clear":return[g,O,S];case"Clouds":return[O,v];case"Tornado":return[x,T];case"Drizzle":return[m,_,E];case"Thunderstorm":return[m,T,E];case"Squall":case"Ash":case"Dust":case"Sand":case"Fog":case"Haze":case"Smoke":case"Mist":return[v,x,w];default:return}};return Object(u.jsx)(u.Fragment,{children:void 0!==c(t)&&c(t).map((function(e,t){return Object(u.jsx)(p,{img_src:e},t)}))})},R=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=function(e){a([e.coords.latitude,e.coords.longitude])},s=function(e){console.warn(e)};return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition(r,s)}),[]),c};function P(e){var t=e.getUserLocation;return Object(u.jsx)("button",{onClick:t,children:"Get My Location"})}var L=c(4),A=c.n(L);function D(e){var t=e.setIsLoaded,c=e.setResults,a=e.setError,r=Object(n.useRef)(null),s=Object(n.useRef)(null),o=Object(n.useState)(-70.9),j=Object(i.a)(o,2),d=j[0],l=(j[1],Object(n.useState)(42.35)),p=Object(i.a)(l,2),O=p[0],b=(p[1],Object(n.useState)(9)),f=Object(i.a)(b,2),m=f[0];f[1];return Object(n.useEffect)((function(){s.current||(s.current=new A.a.Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[d,O],zoom:m}),s.current.on("click",(function(e){fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.lngLat.lat,"&lon=").concat(e.lngLat.lng,"&units=metric&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY)).then((function(e){return e.json()})).then((function(e){200!==e.cod?t(!1):(t(!0),c(e))}),(function(e){t(!0),a(e)}))})))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{ref:r,className:"map-container"})})}function N(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),p=s[0],O=s[1],b=Object(n.useState)("New York City"),f=Object(i.a)(b,2),m=f[0],h=f[1],g=Object(n.useState)(null),S=Object(i.a)(g,2),_=S[0],E=S[1],v=R(),x=Object(n.useState)(""),T=Object(i.a)(x,2),w=T[0],L=T[1];return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(m,"&units=metric&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY)).then((function(e){return e.json()})).then((function(e){200!==e.cod?O(!1):(O(!0),E(e),L(e.weather[0].main))}),(function(e){O(!0),a(e)}))}),[m]),c?Object(u.jsx)(j,{error:c}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:w,children:[Object(u.jsx)("img",{className:"logo",src:o,alt:"MLH Prep Logo"}),Object(u.jsx)("h2",{children:"Enter a city below \ud83d\udc47"}),Object(u.jsx)(l,{city:m,changeCity:h}),Object(u.jsx)(P,{getUserLocation:function(){0!==v.length&&fetch("https://api.openweathermap.org/geo/1.0/reverse?lat=".concat(v[0],"&lon=").concat(v[1],"&limit=1&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY)).then((function(e){return e.json()})).then((function(e){h(e[0].name)}),(function(e){O(!0),a(e)}))}}),Object(u.jsx)(d,{isLoaded:p,results:_}),p&&_&&Object(u.jsx)(C,{weatherKind:_.weather[0].main}),Object(u.jsx)(D,{setIsLoaded:O,setResults:E,setError:a})]})})}A.a.accessToken="pk.eyJ1Ijoicm95Z2JldiIsImEiOiJjbDFjYzF2ajUwMHgzM2NwcXBzdWVxM3ZvIn0.2k8N-UN2Y7ZdT5vwml9QAw";c(12),c(13);s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.32d0ddfe.chunk.js.map